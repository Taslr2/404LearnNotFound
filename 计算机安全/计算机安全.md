# 计算机安全

> 计算机安全的定义(CIA，三个目标):保证信息系统资产的机密性(Confidentiality)、完整性(Integrity)和可用性(Availability)的措施和控制方法。

[TOC]

## 一、概述

  ### 1.1 计算机安全的概念

####  CIA三元组 

机密性： **1.数据机密性**

​			   **2.隐私性**

​		e.g.(学生个人信息)

​				(空间访问权限)

​				(仅聊天、不让他看朋友圈)

完整性： **1.数据完整性**

​			   **2.系统完整性**

​		e.g.(学生个人信息的维护)

​				(口令文件)

​				(被植入恶意代码，就破坏了完整性)

可用性： **确保及时可靠地访问和使用信息**

#### 两个常被提到概念：

真实性：**所发送的信息或是其源头可以被验证其真实性（即可完全信任）**

可说明性：**防范抵赖**

#### 拒绝服务DOS( Denyied Of Service)

![74062894980](C:\Users\19535\AppData\Local\Temp\1740628949808.png)

攻击者发送SYN，目标主机回应后攻击者不发送SCK确认帧，目标主机死等回应

#### 分布式拒绝服务攻击(DDOS)

![74062904105](C:\Users\19535\AppData\Local\Temp\1740629041059.png)

### 1.2 威胁、攻击和资产

#### 造成威胁的原因

- ###### 造成威胁的内因

  - 系统在设计、实现和管理中存在很多缺陷。
  - 如:大型软件漏洞、ipv4协议没有考虑安全性、缺省安装、弱口令。
  - 它们提供了大量机会给”黑客”。攻击者利用这些脆弱点来进行破坏活动


- ###### 造成威胁的外因

  - 肆意泛滥的计算机病毒、无网不入的“黑客”正使网络变得更加脆弱，是网络安全最大也是最严重的威胁。
  - 全世界现有20多万个“黑客”网站，每当一种新的“黑客”袭击手段产生，一周内便可传遍全世界。
  - 今天的黑客并不需要高超的技巧

#### 威胁的分类

**非授权泄露、欺骗、破坏、篡夺**

1. **非授权泄露：**实体未授权而获得数据访问-破坏***机密性***

   **攻击方式：**

   - **暴露：**直接泄露(故意泄露)
   - **截获：**搭线窃听
   - **推理：**非授权用户推理(通信量)
   - **入侵：**躲避系统安全保护(绕过防火墙，克服系统访问控制保护)

   ​

2. **欺骗：**导致授权实体接收虚假数据并相信其正确性的情况或事件。-破坏***完整性***

   **攻击方式：**

   - **冒充：**佯装成授权实体(特洛伊木马)

   - **伪造：**伪造虚假数据

   - **抵赖：**否认对行为的责任(否认发送或接收过数据)

     ​

3. **破坏：**中断或阻止系统服务和功能正常运行的情况或事件。-破坏***完整性*** 或***可用性***

   **攻击方式：**

   - **失能：**禁用系统组件(物理破坏、系统硬件损害，恶意软件特洛伊木马、病毒、蠕虫)
   - **损坏：**修改数据或系统功能(设置后门逻辑)
   - **阻碍：**阻止系统运行(中断通信链路)

   ​

4. **篡夺：**

   **攻击方式：**导致系统服务或功能被非授权实体控制的事件或情况。-破坏***完整性***

   - **盗用：**服务窃取(分布式拒绝服务攻击，盗用处理器)

   - **误用：**恶意代码


#### 威胁举例:硬件、软件、数据、通信线路和网络

- 硬件威胁
- 增加设备、改变设备、删除设备、截取通信、用大量信息阻塞设备，使其丧失处理能力
- 攻击硬件的方式：
  - “无意的机器屠杀”:水淹、火烧、冰冻计算机、老鼠咬断电缆、灰尘颗粒威胁精密的移动设备、撞击计算机…
  - “有意的机器破坏”或“机器自毁”:小偷偷走设备、用枪射击机器、炸弹破坏机房.…
  - **目的**：限制可用性



- 软件威胁
- 软件删除
- 软件窜改
  - **特洛伊木马：**一种实际上或表面上有某种有用功能的程序，内部却含有隐蔽代码，当其被调用时会产生一些意想不到的后果。
  - **病毒：**寄生在其他可执行程序中的程序，具有自我传播的破坏性代码，一般病毒代码短小。如CH病毒。
  - **陷门：**又名后门，程序中的秘密入口点，知道陷门的人可以通过这样的入口点绕过正常的安全检查机制。
  - **信息泄露：**使非授权用户和程序对信息具有访问权的代码。软件盗版
- 软件盗版



- 数据威胁
- 数据比硬件和软件有更大的公众价值，故数据攻击比硬件攻击和软件攻击更为严重和广泛!
- 数据安全的特点
  - 数据的价值存在于上下文中
  - 具有一定的**时效性**：短期内很重要，其后价值急速下降
- 将安全目标应用于数据
  - **数据机密性**威胁
    - 分接线路、在输出设备中安置漏洞、从垃圾箱中详细筛选、监听电磁波贿赂关键员工………
  - **数据完整性**威胁
    - 窜改数据、伪装新数据、重放(replay)以前的数据
  - **数据可用性**威胁
    - 偶尔或恶意破坏数据文件

### 1.3 安全功能要求

书本p10-11ovo

### 1.4 基本安全设计原则

- **经济机制原则**

  把安全机制设计得尽可能短小，易于测试和验证

- **安全缺省原则**

  缺省时不能访问（即不能做安全准则中没定义的事情）

- **绝对中介原则**

  每一次访问都应该接收机制的检查

- **开放式设计原则**

  安全机制的设计应当开放而非保密

- **特权分离原则**

  门上有很多锁，钥匙交给不同的人，如多因素用户认证

- **最小特权原则**

  进程和系统用户应当使用完成某项任务所必需的最少特权进行操作

- **最小共用机制原则**

  应最小化不同用户间共享的功能，以提高彼此的安全性

- **心理可接受性原则**

  安全机制不应该过度干涉用户的工作

- **隔离原则**

  1. 公共访问系统应与重要的资源分离，以免被暴露或泄露
  2. 个人进程和文件应与他人的相隔离
  3. 安全机制本身要被隔离

- **封装原则**

  尽量隐藏实现的具体方法



### 1.5 攻击面和攻击树

#### 攻击面

- 攻击面是由系统中可到达的和可被利用的脆弱点构成的
- 攻击面分类
  - 网络攻击面
  - 软件攻击面
  - 人为攻击面

#### 攻击树

- 攻击树是一个分支型的、层次化的数据结构
- 五类可以识别的攻击：
  - 获取用户凭证
  - 命令注入
  - 猜测用户凭证
  - 违反安全策略
  - 利用已知的认证会话


### 1.6 计算机安全策略

- **对策：**对付攻击所采取的任何手段
  - 能够成功**防止**特定类型的攻击
  - 防止不可能时，**检测**攻击，并从攻击造成的后果中**恢复**
- **风险：**执行对策后，可能存在残余的脆弱性，被威胁代理利用、
  - 资产所有者通过制定其他约束来实现最小化风险
- **计算机安全技术措施：**
  - 访问控制:设置权限
  - 识别与认证:认证协议
  - 系统和通信保护:加密
  - 系统和信息完整性:密码工具
- **管理措施：**
  - 意识和培训
  - 审计和可说明性
  - 认证、认可和安全评估
  - 应急规划
  - 维护

## 二、密码编码工具

### 2.1 用对称加密实现机密性

#### 对称加密

- **明文**：原始消息和数据
- **加密算法**：对明文进行代换和变换
- **秘密密钥**：加密算法的输入，对明文进行特定的代换和变换依赖于密钥
- **密文**：算法的输出
- **解密算法**：加密算法的逆运算

##### 对称加密的安全使用需求

- 加密算法必须足够强，即使拥有一定数量的密文和产生密文的明文，也不能破译密文或发现密钥
- 发送/接收方必须在某种安全形式下获得秘密密钥的副本并且保证密钥的安全。若有人发现该密钥且知道相应算法，就能破译

##### 攻击对称加密方案

- **密码分析**：利用算法特征推导出特定的明文或使用的密钥
- **蛮力攻击**：即穷举攻击，对一条密文尝试所有可能的密钥



#### 对称分组加密算法

>分组密码：将定长的明文转换成与明文等长的密文，该算法将明文划分为一系列定长的块（分块不能过小，否则会影响到加密的随机性）

##### 三种流行对称加密算法

- DES（数据加密标准）：明文分组长度（位）->64，密文分组长度（位）->64，密钥长度（位）->56
- 3DES（3重DES）：64，64，112或168（延长DES使用寿命，无有效攻击方式但加密效率慢，且难于用软件实现该算法）
- AES（高级加密标准）：128，128，128或192或256（安全强度不低于3DES，且能显著提高计算效率）

##### 电子密码本模式（ECB）

是最简单的多分组加密模式

明文每次被提交b位且每组明文用相同的密钥进行加密，通常b=64或128



#### 流密码

分组密码一次处理输入的一组密码，每个输入分组产生一个输出分组；流密码则持续地处理输入元素，每次产生一个元素的输出



### 2.2消息认证和散列函数

>加密需要防止被动（窃听）和主动（数据伪造和篡改）攻击，消息认证是为了保证**完整性**

#### 利用对称加密实现认证

- 发送方和接收方共享一个密钥，那么只有发送方才能成功加密，提供接收者能识别的有效信息
- 消息里带有纠错码和序号，接收方就可以确认信息是否被修改过以及顺序是否正确

#### 消息认证码（MAC）

利用**密钥**产生一个固定长度的短数据块

AB使用共同密钥，A计算出认证码，和消息一起发送给B，B接收到后再次计算认证码，如和A发送的认证码相同，则：

- 接收方可以相信密码未被修改
- 接收方可以相信消息来自真正的发送方
- 若消息中含有序号，则接收方可以相信消息序列未被改变

#### 单向散列函数

是MAC的一种变形，但不接收密钥作为输入，利用散列值对消息进行认证

#### 安全散列函数

对散列函数H的要求：

- H可应用于任意大小的数据块
- H产生固定长度的输出
- 对任意给定的x，计算H(x)比较容易，用硬件和软件均可实现
- 对于任意的散列码h，找到满足H(x)=h的x在计算上是不可行的，具有此性质的散列函数被称为**单向**的或是**抗原象**的
- 对任意给定的分组x，找到y!=x使得H(y)=H(x)也是不可行的，称为**第二抗原象**或**弱碰撞性**
- 找到任意满足H(x)=H(y)的偶对（x,y）是不可行的，称为**抗碰撞**的或是**强抗碰撞**的



### 2.3公钥加密

#### 公钥加密的结构

>公钥密码是**非对称的**

- **公钥和私钥**：选出一对密钥，一个用于加密一个用于解码，私钥需保持其秘密性

  公钥对于其他使用者来说是公共的，而私钥只有其使用者知道

公钥加密提供了**机密性**

私钥加密提供了**机密性**和**完整性**

#### 公钥密码体制的应用

#### 对公钥密码的要求

- 产生一对密钥是容易的
- 产生密文在计算上是容易实现的
- 恢复明文是容易实现的
- 已知公钥，想确定私钥在计算上是不可行的
- 已知公钥和密文，想恢复明文在计算上是不可行的
- 加密解密函数的顺序可以交换



### 2.4数字签名和密钥管理

#### 数字签名

>  只有数字签名才能提供不可否认性，消息认证不可以
>
> 不可否认性：可抵赖的,如A不承认B曾经给他发消息

数字签名：数据的加密转换的结果能够提供一种机制来保证原始认证、数据完整性以及签名的不可抵赖性

#### 公钥证书

#### 数字信封（混合加密）



### 2.5随机数和伪随机数



### 2.6补充：数论逆元

> 如果一个数字 A  存在一个对 p 的逆元 x ，就可以写成 A x ≡ 1  m o d  p  的形式(此处 p 与 A 互质，若不互质，则不存在逆元)。

#### 逆元求法

##### 费马小定理

![](F:\Desktop\邱吉尔\404LearnNotFound\计算机安全\markdown图片\费马小定理.png)

##### 扩展欧几里得

![](F:\Desktop\邱吉尔\404LearnNotFound\计算机安全\markdown图片\扩展欧几里得.png)